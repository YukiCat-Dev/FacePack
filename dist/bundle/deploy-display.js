(function () {var f={};Object.defineProperty(f,"__esModule",{value:!0});var g=void 0;async function q(r){return fetch(r,{method:"GET"}).then(r=>{if(r.ok)return r.json();throw new Error("Fetch Error:Return HTTP ".concat(r.status,", ").concat(r.statusText))})}f.importJSON=g,g=q,f.importJSON=g;var b,m,u,v,w=false;function x(e,t,a,p){let r=!1,s="",o="";for(const $ of p)switch($){case e:r?e==t?(r=!1,s+=a(o),o=""):(r=!1,s+="".concat(e,"bracketContent").concat(e),o=""):r=!0;break;case t:r?(r=!1,s+=a(o),o=""):s+=$;break;default:r?o+=$:s+=$;}return""!=o&&(s+=e+o),s}function n(){if(w)return;w=true;b={};Object.defineProperty(b,"__esModule",{value:!0});m=void 0;b.processTemplate=m;u=class $pVDt$var$Template{constructor(e,t,a){this.replacePlaceHolder=a,this.LEFT_BRACKET=e,this.RIGHT_BRACKET=t}async process(e){let t=!1,a="",p="";for(const r of e)switch(r){case this.LEFT_BRACKET:t?this.LEFT_BRACKET==this.RIGHT_BRACKET?(t=!1,a+=await this.replacePlaceHolder(p),p=""):(t=!1,a+="".concat(this.LEFT_BRACKET,"bracketContent").concat(this.LEFT_BRACKET),p=""):t=!0;break;case this.RIGHT_BRACKET:t?(t=!1,a+=await this.replacePlaceHolder(p),p=""):a+=r;break;default:t?p+=r:a+=r;}return""!=p&&(a+=this.LEFT_BRACKET+p),a}};v=u;b.default=v,m=x,b.processTemplate=m}var h={};Object.defineProperty(h,"__esModule",{value:!0});var i=void 0;h.getFaceFullUrl=i;const y=(n(),b);function z(r,e){return y.processTemplate("{","}",r=>"p_url"==r?e.p_url:"{".concat(r,"}"),r.url)}i=z,h.getFaceFullUrl=i;var j={};Object.defineProperty(j,"__esModule",{value:!0});var k=void 0;j.importExternalFacePacks=k;async function A(a){const r=await g(a);if(r)return r.forEach(a=>{a.faces.forEach(r=>{r.url=i(r,a)})}),r;throw new Error("Try to load FacePacks from '".concat(a,"' failed."))}k=A,j.importExternalFacePacks=k;var l,B,C,D,E=false;function F(){if(E)return;E=true;l={};Object.defineProperty(l,"__esModule",{value:!0});B=(n(),b);C=class $rbUv$var$FaceDisplay{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:":";this._faceMap=new Map,this._className=e,this._inlineStyle=a,this.LEFT_BRACKET=c,this.RIGHT_BRACKET=r;for(const s of t)for(const t of s.faces)this._faceMap.set("".concat(s.id,".").concat(t.id),t.url)}render(t){t.innerHTML=B.processTemplate(this.LEFT_BRACKET,this.RIGHT_BRACKET,this.replacePlaceHolder.bind(this),t.innerHTML)}replacePlaceHolder(t){const e=this._faceMap.get(t);return e?"<img class=\"".concat(this._className,"\" src=\"").concat(e,"\" style=\"").concat(this._inlineStyle," max-height:10vh;\" alt=\"").concat(this.LEFT_BRACKET).concat(t).concat(this.RIGHT_BRACKET,"\"/>"):"".concat(this.LEFT_BRACKET).concat(t).concat(this.RIGHT_BRACKET)}};D=C;l.default=D}var d={},G=d&&d.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(d,"__esModule",{value:!0});const H=G((F(),l));(async()=>{let e=new H.default(await k("https://cdn.jsdelivr.net/gh/YukiCat-Dev/yukicat.facepack/facepacks.json"));document.querySelectorAll("article.hentry").forEach(a=>{e.render(a)})})();if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=d}else if(typeof define==="function"&&define.amd){define(function(){return d})}})();