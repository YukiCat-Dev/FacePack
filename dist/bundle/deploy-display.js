(function () {var g={};Object.defineProperty(g,"__esModule",{value:!0});var h=void 0;async function n(r){return fetch(r,{method:"GET"}).then(r=>{if(r.ok)return r.json();throw new Error("Fetch Error:Return HTTP ".concat(r.status,", ").concat(r.statusText))})}g.importJSON=h,h=n,g.importJSON=h;var d={};Object.defineProperty(d,"__esModule",{value:!0});var f=void 0;d.processTemplate=f;class q{constructor(e,t,a){this.replacePlaceHolder=a,this.LEFT_BRACKET=e,this.RIGHT_BRACKET=t}async process(e){let t=!1,a="",p="";for(const r of e)switch(r){case this.LEFT_BRACKET:t?this.LEFT_BRACKET==this.RIGHT_BRACKET?(t=!1,a+=await this.replacePlaceHolder(p),p=""):(t=!1,a+="".concat(this.LEFT_BRACKET,"bracketContent").concat(this.LEFT_BRACKET),p=""):t=!0;break;case this.RIGHT_BRACKET:t?(t=!1,a+=await this.replacePlaceHolder(p),p=""):a+=r;break;default:t?p+=r:a+=r;}return""!=p&&(a+=this.LEFT_BRACKET+p),a}}var u=q;function v(e,t,a,p){let r=!1,s="",o="";for(const $ of p)switch($){case e:r?e==t?(r=!1,s+=a(o),o=""):(r=!1,s+="".concat(e,"bracketContent").concat(e),o=""):r=!0;break;case t:r?(r=!1,s+=a(o),o=""):s+=$;break;default:r?o+=$:s+=$;}return""!=o&&(s+=e+o),s}d.default=u,f=v,d.processTemplate=f;var i={};Object.defineProperty(i,"__esModule",{value:!0});var j=void 0;i.getFaceFullUrl=j;function w(r,e){return f("{","}",r=>"p_url"==r?e.p_url:"{".concat(r,"}"),r.url)}j=w,i.getFaceFullUrl=j;var k={};Object.defineProperty(k,"__esModule",{value:!0});var l=void 0;k.importExternalFacePacks=l;async function x(a){const r=await h(a);if(r)return r.forEach(a=>{a.faces.forEach(r=>{r.url=j(r,a)})}),r;throw new Error("Try to load FacePacks from '".concat(a,"' failed."))}l=x,k.importExternalFacePacks=l;var m={};Object.defineProperty(m,"__esModule",{value:!0});class y{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:":",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:":";this._faceMap=new Map,this._className=e,this._inlineStyle=a,this.LEFT_BRACKET=c,this.RIGHT_BRACKET=r;for(const s of t)for(const t of s.faces)this._faceMap.set("".concat(s.id,".").concat(t.id),t.url)}render(t){t.innerHTML=f(this.LEFT_BRACKET,this.RIGHT_BRACKET,this.replacePlaceHolder.bind(this),t.innerHTML)}replacePlaceHolder(t){const e=this._faceMap.get(t);return e?"<img class=\"".concat(this._className,"\" src=\"").concat(e,"\" style=\"").concat(this._inlineStyle," max-height:6vh;\" alt=\"").concat(this.LEFT_BRACKET).concat(t).concat(this.RIGHT_BRACKET,"\"/>"):"".concat(this.LEFT_BRACKET).concat(t).concat(this.RIGHT_BRACKET)}}var z=y;m.default=z;var b={},A=b&&b.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b,"__esModule",{value:!0});const B=A(m);(async()=>{const e=new B.default(await l("https://cdn.jsdelivr.net/gh/YukiCat-Dev/yukicat.facepack/facepacks.json"));document.querySelectorAll("article.hentry p:not(.ct-respond-form-textarea):not(.form-submit)").forEach(a=>{e.render(a)})})();if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b}else if(typeof define==="function"&&define.amd){define(function(){return b})}})();